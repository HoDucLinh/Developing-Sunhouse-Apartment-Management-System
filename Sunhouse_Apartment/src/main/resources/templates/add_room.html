<div th:replace="~{fragments/base :: layout}">
    <div th:fragment="content">
        <main class="p-4">
            <div class="card shadow-lg rounded-3">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="bi bi-plus-circle"></i> Thêm căn hộ mới
                    </h4>
                </div>
                <div class="card-body p-4">

                    <!-- Thông báo lỗi từ service -->
                    <div th:if="${errorMessage}" class="alert alert-danger">
                        <i class="bi bi-exclamation-triangle"></i>
                        <span th:text="${errorMessage}"></span>
                    </div>

                    <form th:action="@{/add-room}" th:object="${roomRequest}" method="post" class="needs-validation" novalidate>

                        <div class="mb-3">
                            <label class="form-label">Tầng</label>
                            <select th:field="*{floorId}" class="form-select shadow-sm" required>
                                <option value="" disabled selected>-- Chọn tầng --</option>
                                <option th:each="f : ${floors}" th:value="${f.id}" th:text="${f.floorNumber}"></option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Mã căn hộ</label>
                            <input type="number" th:field="*{roomNumber}" class="form-control shadow-sm" placeholder="Ví dụ: 401" min="1" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Số người tối đa</label>
                            <input type="number" th:field="*{maxPeople}" class="form-control shadow-sm" placeholder="Ví dụ: 4" min="1" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Diện tích (m²)</label>
                            <input type="number" th:field="*{area}" class="form-control shadow-sm" placeholder="Ví dụ: 70" step="0.1" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Giá tiền</label>
                            <input type="number" th:field="*{rent_price}" class="form-control shadow-sm" placeholder="Ví dụ: 70000000" step="0.1" required />
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Mô tả</label>
                            <textarea th:field="*{description}" class="form-control shadow-sm" rows="3" placeholder="Mô tả chi tiết căn hộ..."></textarea>
                        </div>

                        <div class="d-flex justify-content-end">
                            <a th:href="@{/manage-room}" class="btn btn-outline-secondary me-2">
                                <i class="bi bi-arrow-left"></i> Quay lại
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-save"></i> Lưu căn hộ
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>
</div>
